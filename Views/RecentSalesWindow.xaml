<Window x:Class="MyPOS99.Views.RecentSalesWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Recent Sales" 
        Width="600" Height="700"
        WindowStartupLocation="CenterScreen"
        Background="#F5F5F5">
    
    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Header -->
        <Border Grid.Row="0" Background="#3498DB" CornerRadius="8" Padding="20" Margin="0,0,0,15">
            <StackPanel>
                <TextBlock Text="Recent Sales" FontSize="24" FontWeight="Bold" Foreground="White"/>
                <TextBlock Text="Double-click on a sale to view invoice" 
                          FontSize="12" Foreground="White" Opacity="0.9" Margin="0,5,0,0"/>
            </StackPanel>
        </Border>

        <!-- Sales List -->
        <Border Grid.Row="1" Background="White" CornerRadius="8" Padding="15" Margin="0,0,0,15">
            <ListBox x:Name="SalesListBox" BorderThickness="0" Background="Transparent"
                     MouseDoubleClick="SalesListBox_MouseDoubleClick">
                <ListBox.ItemTemplate>
                    <DataTemplate>
                        <Border BorderBrush="#E0E0E0" BorderThickness="0,0,0,1" Padding="12,10" 
                                Background="Transparent" Cursor="Hand">
                            <Border.Style>
                                <Style TargetType="Border">
                                    <Style.Triggers>
                                        <Trigger Property="IsMouseOver" Value="True">
                                            <Setter Property="Background" Value="#F8F9FA"/>
                                        </Trigger>
                                    </Style.Triggers>
                                </Style>
                            </Border.Style>
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>

                                <StackPanel Grid.Column="0" Margin="0,0,15,0">
                                    <TextBlock Text="{Binding InvoiceNumber}" FontSize="16" FontWeight="Bold" Foreground="#2C3E50"/>
                                    <TextBlock Text="{Binding CreatedAt, StringFormat='dd/MM/yyyy HH:mm'}" 
                                              FontSize="12" Foreground="#7F8C8D" Margin="0,3,0,0"/>
                                </StackPanel>

                                <StackPanel Grid.Column="1" VerticalAlignment="Center">
                                    <TextBlock Text="{Binding PaymentType}" FontSize="12" Foreground="#95A5A6"/>
                                </StackPanel>

                                <StackPanel Grid.Column="2" HorizontalAlignment="Right">
                                    <TextBlock Text="{Binding Total, StringFormat='Rs. {0:N2}'}" 
                                              FontSize="18" FontWeight="Bold" Foreground="#27AE60"/>
                                </StackPanel>
                            </Grid>
                        </Border>
                    </DataTemplate>
                </ListBox.ItemTemplate>
            </ListBox>
        </Border>

        <!-- Close Button -->
        <Button Grid.Row="2" Content="Close" Click="CloseButton_Click"
                Background="#95A5A6" Foreground="White" Height="50"
                FontSize="16" FontWeight="SemiBold" BorderThickness="0" Cursor="Hand">
            <Button.Style>
                <Style TargetType="Button">
                    <Setter Property="Template">
                        <Setter.Value>
                            <ControlTemplate TargetType="Button">
                                <Border Background="{TemplateBinding Background}" CornerRadius="8" 
                                        Padding="{TemplateBinding Padding}">
                                    <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                </Border>
                            </ControlTemplate>
                        </Setter.Value>
                    </Setter>
                    <Style.Triggers>
                        <Trigger Property="IsMouseOver" Value="True">
                            <Setter Property="Background" Value="#7F8C8D"/>
                        </Trigger>
                    </Style.Triggers>
                </Style>
            </Button.Style>
        </Button>
    </Grid>
</Window>
